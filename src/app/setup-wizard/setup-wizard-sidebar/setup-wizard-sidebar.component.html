<div *ngIf="displaySidebar" class="h-100 navbar d-flex flex-column align-items-start justify-content-start shadow">
    <ng-container *ngIf="setupContext == 'preVisit' || setupContext == 'full'">

        <div class="ps-1 pe-1 w-100">
            <div class="p-2 w-100 text-bg-dark">
                Pre-Visit
            </div>
            <div class="nav-item ms-2">
                <!-- <fa-icon [icon]="faExclamationCircle" class="alert-danger"></fa-icon> -->
                Company Setup
            </div>
            <div class="nav-item">
                <a class="nav-link secondary-nav" routerLink="company-setup" [routerLinkActive]="['active']">
                    General Details
                </a>
            </div>
            <div class="nav-item">
                <a class="nav-link secondary-nav" routerLink="company-kpi" [routerLinkActive]="['active']">
                    KPI's
                </a>
            </div>
            <div class="nav-item">
                <a class="nav-link secondary-nav" routerLink="company-contacts" [routerLinkActive]="['active']">
                    Team Details
                </a>
            </div>
            <div class="nav-item ms-2">
                Facility Setup
            </div>
            <div class="nav-item">
                <a class="nav-link secondary-nav" routerLink="facility-setup" [routerLinkActive]="['active']">
                    General Details
                </a>
            </div>
            <div class="nav-item">
                <a class="nav-link secondary-nav" routerLink="process-equipment" [routerLinkActive]="['active']">
                    Process Equipment
                </a>
            </div>
            <div class="nav-item">
                <a class="nav-link" routerLink="pre-assessment" [routerLinkActive]="['active']">
                    Pre-Assessments
                </a>
            </div>
            <div class="nav-item">
                <a class="nav-link" routerLink="review-pre-visit" [routerLinkActive]="['active']">
                    Review Pre-Visit
                </a>
            </div>
        </div>
        <div class="p-2 w-100">
            <hr class="my-1">
        </div>
    </ng-container>
    <ng-container *ngIf="setupContext == 'onSite' || setupContext == 'full'">
        <div class="ps-1 pe-1 w-100">
            <div class="p-2 w-100 text-bg-dark">
                On-Site
            </div>
            <div class="nav-item">
                <a class="nav-link" routerLink="assessment-setup" [routerLinkActive]="['active']">
                    Assessment Details
                </a>
            </div>
            <div class="nav-item">
                <a class="nav-link" routerLink="project-setup" [routerLinkActive]="['active']">
                    Potential Projects
                </a>
            </div>
            <div class="nav-item">
                <a class="nav-link" [routerLinkActive]="['active']">
                    Preliminary Results
                </a>
            </div>
            <div class="p-2 w-100">
                <hr class="my-1">
            </div>
        </div>
    </ng-container>

    <ng-container *ngIf="setupContext == 'postVisit' || setupContext == 'full'">
        <div class="ps-1 pe-1 w-100">
            <div class="p-2 w-100 text-bg-dark">
                Post-Visit
            </div>
            <div class="nav-item">
                <a class="nav-link" [routerLinkActive]="['active']">
                    Follow-up
                </a>
            </div>
            <div class="nav-item">
                <a class="nav-link" [routerLinkActive]="['active']">
                    Results
                </a>
            </div>
            <div class="p-2 w-100">
                <hr class="my-1">
            </div>
        </div>
    </ng-container>
    <div class="nav-item">
        <a class="nav-link bold" (click)="openStartOverModal()">
            <fa-icon [icon]="faRotateLeft"></fa-icon>
            Start Over</a>
    </div>
</div>


<div [ngClass]="{'window-overlay': displayStartOverModal}"></div>
<div class="popup" [ngClass]="{'open': displayStartOverModal }">
    <div class="popup-header">Would you like to start over?
        <button type="button" class="btn-close float-end" aria-label="Close" (click)="closeStartOverModal()"></button>
    </div>
    <div class="popup-body">
        <div class="alert alert-danger">
            Are you sure you would like to start over? Changes will be lost.
        </div>
        <hr>
    </div>
    <div class="popup-footer d-flex justify-content-end">
        <button class="btn btn-secondary me-2" (click)="closeStartOverModal()">Cancel</button>
        <button class="btn btn-danger" (click)="confirmStartOver()">Start Over</button>
    </div>
</div>